<html>
<head>
	<title>super duper cool</title>
	<style>
		body {
			background-color: #001122;
			color: #FFCC00;
			text-align: center;
		}
		.marq {
			position: fixed;
		}
	</style>
	
	<script>
		marqNum = 0;
		
		function generateMarquee() {
			marqNum++;
			var newDiv = document.createElement("div");
			newDiv.setAttribute("id", "marq" + marqNum);
			newDiv.setAttribute("class", "marq");
			var node = document.createTextNode("HAPPY BIRTHDAY SHANNONNNNNNNNN");
			console.log(newDiv);
			console.log(node);
			newDiv.appendChild(node);
			document.body.appendChild(newDiv);
			return document.getElementById("marq" + marqNum);
		}
		
		function marq() {
			
			wordLength = 50;
			
			leftBound = -wordLength;
			
			newMarq();
			newMarq();
			newMarq();
			newMarq();
			newMarq();
			newMarq();
			newMarq();
			newMarq();
			newMarq();
		}
		
		function newMarq() {
			
			$ = generateMarquee();
			
			randomStyle($);
			
			speed = Math.floor(Math.random() * 35);
			
			if (Math.floor(Math.random() * 2) == 1) moveLeft($, speed);
			else moveRight($, speed);
		}
		
		function timer(el) {
			window.setTimeout(timer.bind(this, el), 20, el);
			moveRight(el);
		}

		function moveRight(el, speed) {
			el.style.left = ( parseInt(el.style.left) + 5 ) + "px";
			if (parseInt(el.style.left) > window.innerWidth + wordLength) resetRight(el);
			window.setTimeout(moveRight.bind(this, el, speed), speed, el, speed);
		}
		
		function moveLeft(el, speed) {
			el.style.left = ( parseInt(el.style.left) - 5 ) + "px";
			if (parseInt(el.style.left) < leftBound) resetLeft(el);
			window.setTimeout(moveLeft.bind(this, el, speed), speed, el, speed);
		}

		function resetRight(el) {
			randomStyle(el);
			el.style.left = leftBound + "px";
		}

		function resetLeft(el) {
			randomStyle(el);
			el.style.left = window.innerWidth - wordLength + "px";
		}

		function randomStyle(el) {
			textSizes = [12,16,24,36,48,60,72];
			textSize = Math.floor(Math.random() * textSizes.length);
			console.log(textSizes[textSize] + "px")
			el.style.fontSize = textSizes[textSize] + "px";
			
			red = Math.floor(Math.random() * 255);
			green = Math.floor(Math.random() * 255);
			blue = Math.floor(Math.random() * 255);
			
			el.style.color = "rgb(" + red + ", " + green + ", " + blue + ")";
			
			el.style.left = Math.floor(Math.random() * window.innerWidth) + "px";
			el.style.top = Math.floor(Math.random() * window.innerHeight) + "px";
		}
	</script>
</head>
<body onload="marq()"></body>
</html>
